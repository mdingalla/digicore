{"version":3,"sources":["serviceWorker.ts","component/index.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","MainApp","props","state","name","position","address","contact","sss","telno","tin","backgroundImage","e","fileReader","FileReader","file","target","files","image","Image","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataUrl","toDataURL","setState","result","src","readAsDataURL","front","getElementById","html2canvas","then","pdf","jsPDF","frontData","addImage","back","canvass2","backData","addPage","save","className","id","style","this","backgroundRepeat","type","onChange","currentTarget","value","handleBackgroundChange","bind","accept","onClick","printPDF","React","Component","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.1b75080a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport './index.css';\r\n\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\n\r\n\r\ninterface IState  {\r\n    name:string;\r\n    position:string\r\n    backgroundImage:any;\r\n    sss:string;\r\n    tin:string;\r\n    contact:string;\r\n    telno:string;\r\n    address:string;\r\n}\r\n\r\n\r\n\r\nclass MainApp extends React.Component<any,IState>{\r\n    constructor(props:any){\r\n        super(props);\r\n        \r\n        this.state = {\r\n            name:'',\r\n            position:'',\r\n            address:'',\r\n            contact:'',\r\n            sss:'',\r\n            telno:'',\r\n            tin:'',\r\n            backgroundImage:null\r\n        }\r\n    }\r\n\r\n    handleBackgroundChange(e:any) {\r\n        const fileReader = new FileReader();\r\n        const file = e.target.files[0];\r\n        let image = new Image();\r\n        image.onload = ()=>{\r\n            var canvas = document.createElement('canvas'),\r\n            max_size = 165,// TODO : pull max size from a site config\r\n            width = image.width,\r\n            height = image.height;\r\n\r\n                if (width > height) {\r\n                    if (width > max_size) {\r\n                        height *= max_size / width;\r\n                        width = max_size;\r\n                    }\r\n                } else {\r\n                    if (height > max_size) {\r\n                        width *= max_size / height;\r\n                        height = max_size;\r\n                    }\r\n                }\r\n            \r\n                if(canvas)\r\n                {\r\n                    canvas.width = max_size;\r\n                    canvas.height = max_size;\r\n                 \r\n                   var ctx =  canvas.getContext('2d');\r\n                  if(ctx)\r\n                  {\r\n                    ctx.drawImage(image, 0, 0, max_size, max_size);\r\n                     var dataUrl = canvas.toDataURL('image/jpeg');\r\n                     this.setState({\r\n                        backgroundImage: dataUrl\r\n                      });\r\n\r\n                  }\r\n                   \r\n                    // var resizedImage = dataURLToBlob(dataUrl);\r\n                   \r\n                }\r\n          }\r\n       \r\n\r\n        fileReader.onload = () => {\r\n            // this.background.style.backgroundImage = `url(${fileReader.result})`;\r\n            // console.log(fileReader.result)\r\n              if(fileReader.result)\r\n              {\r\n                image.src = fileReader.result as string\r\n              }\r\n\r\n\r\n          \r\n          };\r\n          fileReader.readAsDataURL(file);\r\n         \r\n         \r\n\r\n        \r\n    }\r\n\r\n    printPDF(){\r\n        const front = document.getElementById('frontCard');\r\n        \r\n       if(front)\r\n       {\r\n        html2canvas(front)\r\n        .then((canvas:any) => {\r\n                var img_w = canvas.width + 50;\r\n                var img_h = canvas.height;\r\n                const pdf  = new jsPDF();\r\n           \r\n            const frontData = canvas.toDataURL('image/png');\r\n            pdf.addImage(frontData, 'PNG', 0, 0);\r\n            const hratio = img_h / img_w;\r\n\r\n\r\n            const back = document.getElementById('backCard');\r\n            if(back)\r\n            {\r\n                html2canvas(back)\r\n                    .then((canvass2:any)=> {\r\n\r\n                        const backData = canvass2.toDataURL('image/png');\r\n\r\n                        // var width = pdf.internal.pageSize.getWidth() - 50;\r\n                        // var height = width * hratio;\r\n            \r\n                        // // pdf.addImage(imgData, 'JPEG', 20,20,width,height);\r\n                        pdf.addPage();\r\n                        pdf.addImage(backData, 'PNG', 0, 0);\r\n                        pdf.save(`${this.state.name || \"DigiCoreTech\"}.pdf`);  \r\n\r\n                    })\r\n            }\r\n           \r\n        })\r\n       }\r\n    }\r\n\r\n\r\n    // printPDF(){\r\n       \r\n        \r\n    //     const back = document.getElementById('AllCard');\r\n    //         if(back)\r\n    //         {\r\n    //             html2canvas(back)\r\n    //                 .then((canvass2:any)=> {\r\n\r\n    //                     const backData = canvass2.toDataURL('image/png',100,100);\r\n    //                     const pdf  = new jsPDF('l')\r\n    //                     // var width = pdf.internal.pageSize.getWidth() - 50;\r\n    //                     // var height = width * hratio;\r\n            \r\n    //                     // // pdf.addImage(imgData, 'JPEG', 20,20,width,height);\r\n    //                     // pdf.addPage();\r\n    //                     pdf.addImage(backData, 'PNG', 0, 0);\r\n    //                     pdf.save(`${this.state.name}.pdf`);  \r\n\r\n    //                 })\r\n    //         }\r\n    // }\r\n\r\n    render(){\r\n\r\n       \r\n\r\n        return <div className=\"container-fluid\">\r\n             <div className=\"row\">\r\n                <div className=\"col-sm\">\r\n                    <div id=\"frontCard\" className=\"employeeCard employeeFront\">\r\n                        <div \r\n                        style={\r\n                            {\r\n                                backgroundImage: `url(${this.state.backgroundImage})`,\r\n                                backgroundRepeat:\"no-repeat\",\r\n                            }\r\n                        }\r\n                        className=\"employeePhoto\"></div>\r\n                        <div className=\"employeeName\">\r\n                                <label>{this.state.name}</label>\r\n                            </div>\r\n                            <div className=\"employeePosition\">\r\n                                <label>{this.state.position}</label>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-sm\">\r\n                    <div id=\"backCard\"  className=\"employeeCard employeeBack\">\r\n                        <div className=\"employeeData\">\r\n                            <div className=\"employeeDataRow\">\r\n                                <label>SSS No :</label>\r\n                                <span>{this.state.sss}</span>\r\n                            </div>\r\n\r\n                            <div className=\"employeeDataRow\">\r\n                                <label>TIN No :</label>\r\n                                <span>{this.state.tin}</span>\r\n                            </div>\r\n\r\n                            <div className=\"employeeDataRow employeeContact\">\r\n                                <label>IN CASE OF EMERGENCY, PLEASE NOTIFY: </label>\r\n                                <span>{this.state.contact}</span>\r\n                            </div>\r\n                            \r\n                            <div className=\"employeeDataRow\">\r\n                                <label>TEL No :</label>\r\n                                <span>{this.state.telno}</span>\r\n                            </div>\r\n\r\n                            <div className=\"employeeDataRow overflow-hidden\">\r\n                                <label>Address :</label>\r\n                                <span>{this.state.address}</span>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                        <div className=\"back-footer\">\r\n                            <p>This ID Card is the property of DigiCORETech Inc. and must be surrendered upon demand.</p>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"col-sm\">\r\n                    <form>\r\n                    <div className=\"employeeCard\">\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"\">\r\n                            Name:\r\n                        </label>\r\n                        <input className=\"form-control\" type=\"text\" onChange={e=> this.setState({\r\n                            name:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            Position:\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\"  onChange={e=> this.setState({\r\n                            position:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            SSS:\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\"  onChange={e=> this.setState({\r\n                            sss:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            TIN:\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\"  onChange={e=> this.setState({\r\n                            tin:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            Contact:\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\"  onChange={e=> this.setState({\r\n                            contact:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            Tel No:\r\n                        </label>\r\n                        <input type=\"text\" className=\"form-control\"  onChange={e=> this.setState({\r\n                            telno:e.currentTarget.value\r\n                        })}/>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                    <label className=\"\">\r\n                            Address:\r\n                        </label>\r\n                        <textarea className=\"form-control\"  onChange={e=> this.setState({\r\n                            address:e.currentTarget.value\r\n                        })}/>\r\n                      \r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <input onChange={this.handleBackgroundChange.bind(this)} type=\"file\" accept=\"image/*\" />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <button \r\n                        onClick={this.printPDF.bind(this)}\r\n                        type=\"button\">Print</button>\r\n                    </div>\r\n\r\n\r\n                        {/* <img id=\"myImage\" /> */}\r\n                    </div>\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default MainApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport MainApp from './component/index';\n\nReactDOM.render(<MainApp />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}